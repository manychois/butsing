{% extends 'base.twig' %}

{% set htmlTitle = 'Dashboard' %}

{% block body %}
  <div class="flex h-full bg-white">
    <div class="flex w-72 flex-col">
      <div class="flex grow flex-col gap-y-5 overflow-y-auto border-r border-gray-200 bg-white px-6">
        <div class="flex h-16 shrink-0 items-center">
          <img class="h-8 w-auto" src="/assets/butsing.png" alt="Butsing">
        </div>
        <nav class="flex flex-1 flex-col">
          <ul role="list" class="-mx-2 space-y-1">
            {% for navItem in nav %}
              <li>
                {% if navItem.children %}
                  {% set active = navItem.active ? 'true' : 'false' %}
                  <div x-data="{ active: {{ active }} }">
                    <button type="button" class="hover:bg-primary-100 flex items-center w-full text-left rounded-md p-2 gap-x-3 text-sm leading-6 font-semibold" aria-controls="sub-menu-{{ loop.index }}" aria-expanded="{{ active }}" x-bind:aria-expanded="active" x-on:click="active = !active">
                      {{ hero_icon('chevron-right', 'text-primary-500 h-5 w-5 shrink-0 transition-transform' ~ (navItem.active ? ' rotate-90' : ''), {'x-class:rotate-90': 'active'}) }}
                      {{ navItem.label }}
                    </button>
                    <ul id="sub-menu-{{ loop.index }}" class="mt-1 px-2" x-show="active" x-collapse {% if not navItem.active %} style="display:none" {% endif %}>
                      {% for subNavItem in navItem.children %}
                        <li>
                          {% if subNavItem.active %}
                            <span class="bg-primary-500 block rounded-md py-2 pr-2 pl-9 text-sm leading-6 text-white">
                              {{ subNavItem.label }}
                            </span>
                          {% else %}
                            <a href="{{ subNavItem.href }}" class="hover:bg-primary-100 block rounded-md py-2 pr-2 pl-9 text-sm leading-6">
                              {{ subNavItem.label }}
                            </a>
                          {% endif %}
                        </li>
                      {% endfor %}
                    </ul>
                  </div>
                {% else %}
                  {% if navItem.active %}
                    <span class="bg-primary-500 block rounded-md py-2 pr-2 pl-10 text-sm leading-6 font-semibold text-white">
                      {{ navItem.label }}
                    </span>
                  {% else %}
                    <a href="{{ navItem.href }}" class="hover:bg-primary-100 block rounded-md py-2 pr-2 pl-10 text-sm leading-6 font-semibold">
                      {{ navItem.label }}
                    </a>
                  {% endif %}
                {% endif %}
              </li>
            {% endfor %}
          </ul>
        </nav>
      </div>
    </div>
    <main>
      <h1>Dashboard</h1>
      <pre>{{ nav|json_encode(constant('JSON_PRETTY_PRINT')) }}</pre>
    </main>
  </div>
{% endblock %}
